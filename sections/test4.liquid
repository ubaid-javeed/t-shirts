<div class="collection-blocks-section">
  <h2 class="collection-block-heading">{{ section.settings.heading_text }}</h2>

  <div class="collection-blocks-wrapper">
    {% for block in section.blocks %}
      {% assign col = block.settings.collection %}
      {% if col != blank %}
        <a href="{{ col.url }}" >
            <div class="collection-block-item" style="background-image: url('{{ col.featured_image | img_url: "master" }}');">
                
            </div> 

          <div class="collection-block-title">
            {{ col.title }}
          </div>

        </a>
      {% endif %}
    {% endfor %}
  </div>
</div>

<style>
    *{
        box-sizing: border-box;
        margin:0;
        padding:0;
    }
    .collection-blocks-section{
        max-width: 1230px;
        margin: 0 auto;
        margin-top:64px;    
        margin-bottom:64px; 
         {% comment %} padding-left:64px;
        padding-right:64px; {% endcomment %}
          
    }
    .collection-block-heading{
        font-size: 32px;
        font-weight: 600;
        font-family: "Poppins";
        line-height: 100%;
    }
    .collection-blocks-wrapper {
        margin-top: 24px;
        display: flex;
        gap: 17px;
        justify-content: center;
        flex-wrap: nowrap;    
        flex-shrink: 0;       
         overflow-x: auto; 
        justify-content: flex-start; 
    
    }

  .collection-block-item {
    width: 232px;
    height: 220px;
    border-radius: 8px;
    background-size: cover;
    background-position: center;
    position: relative;
    display: block;
    
  }

  .collection-block-title {
    font-family: "Poppins";
    position: absolute;
    bottom: 12px;
    left: 12px;
    color: white;
    font-size: 18px;
    font-weight: 600;
  }
  .collection-blocks-wrapper a {
    position: relative;
    text-decoration: none;
}
  @media (max-width: 1200px){
    .collection-blocks-section{
        padding:12px 32px;    
    }
   .collection-blocks-wrapper {
    display: flex;
    flex-wrap: nowrap;    
    flex-shrink: 0;       
    overflow-x: scroll;         
    gap: 17px;
    padding-bottom: 10px;     
    justify-content: flex-start;     
  }
  .collection-block-item {
    flex: 0 0 auto;      
    flex-shrink: 0;        
    scroll-snap-align: start;
  }
}
@media (max-width: 767px){
    .collection-blocks-section{
        padding:12px 16px;    
    }
    .collection-block-heading{
        font-size: 18px; 
        margin-bottom: 16px;      
    }
    .collection-block-item {
        width: 96px;
        height: 96px;
        border-radius: 50%;      
    }  
    .collection-block-title {
        margin-top: 12px;
        position: static;
        color: black;
        text-align: center;     
        font-size: 12px;
    } 


}

</style>

{% schema %}
{
  "name": "Collection Blocks Section",
  "settings": [
    {
      "type": "text",
      "id": "heading_text",
      "label": "Section Heading",
      "default": "Popular Categories"
    }
  ],

  "blocks": [
    {
      "type": "collection_block",
      "name": "Collection Block",
      "settings": [
        {
          "type": "collection",
          "id": "collection",
          "label": "Select Collection"
        }
      ]
    }
  ],

  "presets": [
    {
      "name": "Collection Blocks Section"
    }
  ]
}
{% endschema %}
